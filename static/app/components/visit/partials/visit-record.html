
<div ng-controller="VisitRecordCtrl">
	<div style="padding: 20px;">
		</br>
		<form class="form-horizontal" role="form" name="visit_record_form" ng-submit="submitTheForm()" novalidate>
			<div class="form-group" ng-class="{ 'has-error' : visit_record_form.vdate.$invalid && !visit_record_form.vdate.$pristine }">
				</br> <label for="vdate" class="col-sm-4 col-xs-4 control-label">Date:</label>
				<div class="col-sm-8 col-xs-8">
					<input type="date" class="form-control" name="vdate" 
						ng-model="VisitRecordForm.vdate" required>
					<p ng-show="visit_record_form.vdate.$invalid && !visit_record_form.vdate.$pristine" class="help-block">Date is required.</p>
				</div>
			</div>

			<div class="form-group" ng-class="{ 'has-error' : visit_record_form.vcc.$invalid && !visit_record_form.vcc.$pristine }">
				<label for="complaint" class="col-sm-4 col-xs-4 control-label">Chief
					Complaint:</label>
				<div class="col-sm-8 col-xs-8">
					<input type="text" ng-model="VisitRecordForm.selected" name="vcc"
						typeahead="state for state in VisitRecordForm.states | filter:$viewValue | limitTo:8"
						class="form-control" 
						placeholder="Please enter chief complaint" required>
					<p ng-show="visit_record_form.vcc.$invalid && !visit_record_form.vcc.$pristine" class="help-block">Chief complaint is required.</p>
				</div>
			</div>

			<div class="form-group" ng-class="{ 'has-error' : visit_record_form.vname.$invalid && !visit_record_form.vname.$pristine }">
				<label for="name" class="col-sm-4 col-xs-4 control-label">Physician's
					Name :</label>
				<div class="col-sm-8 col-xs-8">
					<input type="text" class="form-control" name="vname"
						ng-model="VisitRecordForm.name" 
						placeholder="Please enter Physician's name" required>
					<p ng-show="visit_record_form.vname.$invalid && !visit_record_form.vname.$pristine" class="help-block">Physician's name is required.</p>
				</div>
			</div>
			<div class="form-group">
				<label for="vdate" class="col-sm-4 col-xs-4 control-label">Prescription:</label>
				<div class="fileUpload btn btn-primary">
					<span>Upload multiple images</span>
					<input type="file" class="upload"  capture="camera" nv-file-select=""
						uploader="uploader" multiple/>
				</div>
			</div>
			<div class="form-group" ng-if="presc_img">
				<div class="col-sm-12 col-xs-12">
					<table class="table">
						<thead>
							<tr>
								<th>Image</th>
								<!-- th ng-show="uploader.isHTML5">Size</th-->
								<th ng-show="uploader.isHTML5">Progress</th>
								<th>Status</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="item in uploader.queue">
								<td>
									<!--strong>{{ item.file.name }}</strong--> <!-- Image preview -->
									<!--auto height--> <!--<div ng-thumb="{ file: item.file, width: 100 }"></div>-->
									<!--auto width-->
									<div ng-show="uploader.isHTML5"
										ng-thumb="{ file: item._file, height: 100 }"></div> <!--fixed width and height -->
									<!--<div ng-thumb="{ file: item.file, width: 100, height: 100 }"></div>-->
								</td>
								<!--td ng-show="uploader.isHTML5" nowrap>{{
									item.file.size/1024/1024|number:2 }} MB</td-->
								<td ng-show="uploader.isHTML5">
									<div class="progress" style="margin-bottom: 0;">
										<div class="progress-bar" role="progressbar"
											ng-style="{ 'width': item.progress + '%' }"></div>
									</div>
								</td>
								<td class="text-center">
									<span ng-show="item.isSuccess">
										<i class="glyphicon glyphicon-ok"></i>
									</span> 
									<span ng-show="item.isCancel">
										<i class="glyphicon glyphicon-ban-circle"></i>
									</span> 
									<span ng-show="item.isError">
										<i class="glyphicon glyphicon-remove"></i>
									</span> </br>
								</td>
								<td>
									<button type="button" class="btn btn-danger btn-xs"
										ng-click="item.remove()">
										<span class="glyphicon glyphicon-trash"></span> Remove
									</button>
								</td>
								<td nowrap></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			</br>
			<button type="submit" class="btn btn-success form-control" ng-disabled="visit_record_form.$invalid">Submit</button>
			<!-- input type="submit" ng-disabled="visit_record_form.vname.$dirty && visit_record_form.vname.$invalid"
				class="btn-success btn form-control"/-->
		</form>
	</div>
</div>
